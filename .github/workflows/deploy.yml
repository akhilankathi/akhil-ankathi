name : deploy akhil ankathi portfolio

on:
  workflow_dispatch:
  push: 
    branches:
      -main 

jobs:
  build-deploy:
    runs-on : ubantu-latest

    steps:
     #checkout reposistory 
      - name : checkout code
        uses: actions/checkout@v3
      # set up node js
      - name : set up node js
        uses: actions/setup-node@v3
        with :
          node-version : 18

      #install dependencies
      - name : install dependencies
        run: npm install

        #build the project
      - name : build the project
        run: npm run build

        #deploy the project to github pages
      - name : deploy the project to github pages
        uses : peaceiris/actions-gh-pages@v3
        with :
           github_token : ${{ secrets.GITHUB_TOKEN }}
           public_dir : dist


